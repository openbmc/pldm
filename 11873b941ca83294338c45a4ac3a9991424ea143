{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2b97d551_75d5db47",
        "filename": "fw-update/update.cpp",
        "patchSetId": 10
      },
      "lineNbr": 19,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:06:45Z",
      "side": 1,
      "message": "Does current UpdateManager only has support for single FD update or in general it assumes there is only one FD? What if multiple FDs needs to be updated in parallel (Spec supports that). How would this logic work then?",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e935b7b_86ed2201",
        "filename": "fw-update/update.cpp",
        "patchSetId": 10
      },
      "lineNbr": 35,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:06:45Z",
      "side": 1,
      "message": "Why are you not doing a dup on the FD rather than copying this out?",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f49abc43_73f45788",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 69,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T18:43:59Z",
      "side": 1,
      "message": "define a static API, lets say getSwId and use it here and in processStreamDefer too.",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68c6a44c_f0ddae66",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 71,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T18:43:59Z",
      "side": 1,
      "message": "I think this would be pretty long string. If yes, can you please use something similar to this https://grok.openbmc.org/xref/openbmc/phosphor-bmc-code-mgmt/common/src/software.cpp?r\u003ddbb7015e93b1170465efa9c38ce9ab5a317d190e#42.",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "02e0b4d0_4adc277d",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 99,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T18:43:59Z",
      "side": 1,
      "message": "Lets change this to swRootPath / \"pldm\" as this is a singleton path that you are exposing or are you using this path just for this specific activation.\n\nWhere would the software version be exposed? Would that be done via https://gerrit.openbmc.org/c/openbmc/pldm/+/73512?",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4970c618_33f74048",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 106,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T18:43:59Z",
      "side": 1,
      "message": "no need to create activation interface as u will throw a exception here. See below comment.",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab514c56_0c6d1074",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 109,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T18:43:59Z",
      "side": 1,
      "message": "Please throw the Unavailable error here (You are still in StartUpdate context and haven\u0027t scheduled the image for later processing yet).\n\nno need to return the objPath since its an error situation.",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5f1ecd49_b22f2ad0",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 116,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T18:43:59Z",
      "side": 1,
      "message": "Lets create the activation interface here with ActivationStatus as NotReady. That way you don\u0027t need to repeat the std::make_unique\u003cActivation\u003e(... at multiple places, but just change the ActivationStatus to new one. Also, after this the BMCWeb is going to start watching that interface since you are returning from StartUpdate sync flow (Which is the caller for this function).",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1584c7ff_b259c2ab",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 129,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:27:23Z",
      "side": 1,
      "message": "Just set the ActivationState here based on https://gerrit.openbmc.org/c/openbmc/pldm/+/79192/comment/5f1ecd49_b22f2ad0/.",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4f8ee214_8df66e06",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 133,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:27:23Z",
      "side": 1,
      "message": "No need to throw the exception as u r already in async handler here, just return after setting the Activation status to Invalid.\n\nAlso an unrelated question - won\u0027t the process dump since u r throwing from a async handler and there is no one to catch the exception?",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f6456845_215fa58b",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 149,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:27:23Z",
      "side": 1,
      "message": "No need to throw the exception as u r already in async handler here, just return after setting the Activation status to Invalid",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b622c9ad_4b99c2fa",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 161,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:27:23Z",
      "side": 1,
      "message": "Just change ActivationStatus to invalid for an existing ActivationObject.",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc6d5399_96540604",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 165,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:27:23Z",
      "side": 1,
      "message": "No need to throw the exception as u r already in async handler here, just return.",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11049c37_38e7f0b6",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 176,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:27:23Z",
      "side": 1,
      "message": "Just change ActivationStatus to invalid for an existing ActivationObject.",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "393091bb_c0d60371",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 180,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:27:23Z",
      "side": 1,
      "message": "No need to throw the exception as u r already in async handler here, just return after setting the Activation status to Invalid",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20443534_ead05b88",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 199,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:27:23Z",
      "side": 1,
      "message": "Just change ActivationStatus to Ready for an existing ActivationObject.\n\nI am surprised to see how many times the create activation interface code has been copied over.",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8664c0b6_bc12a360",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 207,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:27:23Z",
      "side": 1,
      "message": "Who takes care of update after this step?",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "055d1c85_7b60e516",
        "filename": "fw-update/update_manager.cpp",
        "patchSetId": 10
      },
      "lineNbr": 209,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:27:23Z",
      "side": 1,
      "message": "Where is ActivationBlockTransition interface being created? You need to create that and delete after the update finishes.",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52a6fc41_dd0815e5",
        "filename": "fw-update/update_manager.hpp",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 1002135
      },
      "writtenOn": "2025-08-20T05:51:58Z",
      "side": 1,
      "message": "Why not to toggle this at runtime?\nBy using `std::optional` or `std::unique_ptr` with default initialization it can leave the design flexibility for the backword compatibility.",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9d746593_78407737",
        "filename": "fw-update/update_manager.hpp",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2025-08-20T10:10:48Z",
      "side": 1,
      "message": "Is there a Redfish API for this? Not all users may have access to BMC shell (not sure if that\u0027s what you meant?).\n\nWe could even have a follow-up patch to take out inotify support altogether if there are no users (we will check on the ML).",
      "parentUuid": "52a6fc41_dd0815e5",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a184fa1e_698412b3",
        "filename": "fw-update/update_manager.hpp",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 1002135
      },
      "writtenOn": "2025-08-21T07:40:30Z",
      "side": 1,
      "message": "Redfish does not planned to use watchdog, but there are other projects still using this mechanism to trigger the update process (as a temporary workaround), the current patchset set the option to disabled, which means the feature would instantly turns unusable once this is merged, unless the builder actively enable the option before building.\n\nWhile the commit message saying \"maintaining backward compatibility\", at least the option should be enabled as default. Otherwise just tell that we are deprecating this feature.",
      "parentUuid": "9d746593_78407737",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cccabe03_5df1e281",
        "filename": "fw-update/update_manager.hpp",
        "patchSetId": 10
      },
      "lineNbr": 68,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:06:45Z",
      "side": 1,
      "message": "Change this path to /xyz/openbmc_project/software/pldm so you implement the update interface on a specific path.",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "60a3687f_42dcd837",
        "filename": "fw-update/update_manager.hpp",
        "patchSetId": 10
      },
      "lineNbr": 169,
      "author": {
        "id": 1001758
      },
      "writtenOn": "2025-08-20T19:27:23Z",
      "side": 1,
      "message": "rename to updateDeferHandler",
      "revId": "11873b941ca83294338c45a4ac3a9991424ea143",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}