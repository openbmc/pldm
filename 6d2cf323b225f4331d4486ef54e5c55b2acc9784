{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "44d70ae7_3b309730",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 31,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2025-10-16T07:10:20Z",
      "side": 1,
      "message": "So this is a case where the device does support PLDM Type 2 on your platform but you don\u0027t want to talk PLDM Type 2 to the device?",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6d2cf323b225f4331d4486ef54e5c55b2acc9784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c3c83eb4_926ffbca",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 31,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-10-17T12:29:47Z",
      "side": 1,
      "message": "Yes. For example, some devices like NICs do support PLDM Type 2, but on certain platforms we prefer not to rely on PLDM Type 2 for sensor discovery. Instead, we configure sensors (e.g., NIC temperature sensors) via `entity-manager`, including name, thresholds, and other metadata, and instantiate them through dbus-sensors like `xyz.openbmc_project.hwmontempsensor.service`. This allows sensor management to be handled entirely from the BMC side without requiring NIC vendors to modify PDRs or release new firmware.\n\nHowever, we still expect the BMC to support PLDM-based firmware update flows for these devices.",
      "parentUuid": "44d70ae7_3b309730",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6d2cf323b225f4331d4486ef54e5c55b2acc9784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cbbde945_c53af250",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 31,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2025-10-17T12:54:35Z",
      "side": 1,
      "message": "What if such a device supports the entity aux name PDR? How would you avoid talking PLDM Type 2 to it?",
      "parentUuid": "c3c83eb4_926ffbca",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6d2cf323b225f4331d4486ef54e5c55b2acc9784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "caa50a1a_44702e1c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 31,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-10-20T09:40:28Z",
      "side": 1,
      "message": "Since our NIC firmware does not provide a terminus name, this patch introduces an option to disable the fallback mechanism, restoring the behavior prior to the change `platform-mc: Use a default terminus name if empty.`\n\nIf the intention is to allow per-endpoint control via BMC configuration—such as determining which endpoints should create sensors regardless of whether a terminus name is present—would you prefer implementing this through the EM schema (e.g., adding a boolean to the MCTP target and having pldm honor it), rather than relying solely on the pldm option?",
      "parentUuid": "cbbde945_c53af250",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6d2cf323b225f4331d4486ef54e5c55b2acc9784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f66fb1f3_7363474e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 31,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2025-10-21T08:25:47Z",
      "side": 1,
      "message": "I think I\u0027d be ok with disabling Type 2 support altogether at build time as opposed to relying on a specific aspect of the T2 spec.",
      "parentUuid": "caa50a1a_44702e1c",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6d2cf323b225f4331d4486ef54e5c55b2acc9784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "84e2b876_0dc39c3f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 31,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-10-22T07:53:21Z",
      "side": 1,
      "message": "Just to clarify—are you suggesting a single option to disable Type 2 for all devices? Different platforms may require more fine-grained control. This patch takes a more targeted approach by skipping Type 2 sensor creation only for devices without a terminus name, while others proceed as usual. What are your thoughts on this endpoint-level behavior?",
      "parentUuid": "f66fb1f3_7363474e",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6d2cf323b225f4331d4486ef54e5c55b2acc9784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67232724_cd011657",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 31,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2025-10-22T08:08:53Z",
      "side": 1,
      "message": "My concern is disabling Type 2 for the lack of an optional Terminus name. That seems to be a very specific platform behavior/out-of-spec behavior. One can come up with N such cases resulting in N build flags - would like to avoid this.",
      "parentUuid": "84e2b876_0dc39c3f",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6d2cf323b225f4331d4486ef54e5c55b2acc9784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fe7a5ba3_abca4e58",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 31,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-10-22T08:37:50Z",
      "side": 1,
      "message": "I understand the concern about keeping the common code clean and avoiding too many platform-specific build-time options that could make it messy and less \"common.\" However, I believe that in practice, based on platform design differences, there is still a need for per-endpoint flexibility in simply letting the BMC decide whether to support different PLDM types.\nAlso, this option reflects the behavior of pldmd before it supported fallback terminus names, rather than introducing a new behavior.\n\nWould it be acceptable if I instead configure this through EM, and let pldmd read the configuration to decide which PLDM types to support per endpoint? For example, pldmd could default to supporting all types, and only disable Type 2 if the EM JSON explicitly specifies that Type 2 is disabled for a device.",
      "parentUuid": "67232724_cd011657",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6d2cf323b225f4331d4486ef54e5c55b2acc9784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b1e9ff4_3c2614cc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 31,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2025-10-22T11:43:44Z",
      "side": 1,
      "message": "Yes, that sounds reasonable.",
      "parentUuid": "fe7a5ba3_abca4e58",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6d2cf323b225f4331d4486ef54e5c55b2acc9784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e21d7865_cf318651",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 31,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-10-23T07:57:07Z",
      "side": 1,
      "message": "Sounds good—I’ll proceed in this direction. I’d like to confirm that the end goal is to have similar per-endpoint control for `platform events, sensors, and firmware update, but I’ll start with sensors first.\n\nFor the EM configuration, would you prefer:\n\na single flag per feature, e.g.:\n```\n\"pldmDisableSensors\": true,\n\"pldmDisablePlatformEvents\": true\n```\nor\na consolidated list that can disable multiple features at once, e.g.:\n```\n{\n  \"pldm\": {\n    \"disabledFeatures\": [\"platformEvents\", \"sensors\"] \n  }\n}\n```\nWhich style would you like us to adopt?",
      "parentUuid": "2b1e9ff4_3c2614cc",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6d2cf323b225f4331d4486ef54e5c55b2acc9784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff91f501_12c315e9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 31,
      "author": {
        "id": 1002134
      },
      "writtenOn": "2025-10-23T07:57:07Z",
      "side": 1,
      "message": "Sounds good—I’ll proceed in this direction. I’d like to confirm that the end goal is to have similar per-endpoint control for platform events, sensors, and firmware update, but I’ll start with sensors first.\n\nFor the EM configuration, would you prefer:\n\na single flag per feature, e.g.:\njson\n{ \"pldmDisableSensors\": true }\nor\n\na consolidated list that can disable multiple features at once, e.g.:\njson\n{\n  \"pldm\": {\n    \"disabledFeatures\": [\"platformEvents\"]\n  }\n}\nWhich style would you like us to adopt?",
      "parentUuid": "2b1e9ff4_3c2614cc",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6d2cf323b225f4331d4486ef54e5c55b2acc9784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36c0bcc6_dec15b80",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 31,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2025-10-23T08:23:48Z",
      "side": 1,
      "message": "These examples look like disabling PLDM type 2 sensors for all endpoints so I am not sure if it\u0027s any different than a build flag in pldmd itself. I thought you wanted something at an MCTP EID level?",
      "parentUuid": "ff91f501_12c315e9",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6d2cf323b225f4331d4486ef54e5c55b2acc9784",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}