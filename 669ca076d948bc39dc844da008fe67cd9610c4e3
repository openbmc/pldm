{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "20b85a14_300d1d30",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 748,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-06-24T07:02:44Z",
      "side": 1,
      "message": "If encoding fails, the code continues to send a malformed request. (missing `return` here)",
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "288598b4_eb4881d4",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 748,
      "author": {
        "id": 1002297
      },
      "writtenOn": "2025-06-24T07:25:21Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "20b85a14_300d1d30",
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "29a3c156_6787c560",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 809,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-06-24T07:02:44Z",
      "side": 1,
      "message": "why `-1` ?\nShouldn\u0027t it be `if (cancelledUpdates !\u003d applicableComponents.size())`?",
      "range": {
        "startLine": 809,
        "startChar": 59,
        "endLine": 809,
        "endChar": 62
      },
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8f7f2a07_21493f55",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 809,
      "author": {
        "id": 1002297
      },
      "writtenOn": "2025-06-24T07:25:21Z",
      "side": 1,
      "message": "The `-1` is to indicate that we\u0027re checking if there were any successful component updates not including the current component",
      "parentUuid": "29a3c156_6787c560",
      "range": {
        "startLine": 809,
        "startChar": 59,
        "endLine": 809,
        "endChar": 62
      },
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b10cb8f_8615910e",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 809,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-06-24T07:49:35Z",
      "side": 1,
      "message": "Suppose there are two components to update, update was successful on 1st component but it failed for second component.\n\ncancelledUpdates would be 1 \n\napplicableComponents.size() - 1 \u003d 2-1 \u003d 1\n\nThis condition would be false in that case, and UA will not send activate firmware request.\nCorrect me if I am wrong here",
      "parentUuid": "8f7f2a07_21493f55",
      "range": {
        "startLine": 809,
        "startChar": 59,
        "endLine": 809,
        "endChar": 62
      },
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c72a152_c7566fa7",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 809,
      "author": {
        "id": 1002297
      },
      "writtenOn": "2025-06-24T08:05:27Z",
      "side": 1,
      "message": "Ack, I\u0027ve updated the logic to make it more straightforward",
      "parentUuid": "3b10cb8f_8615910e",
      "range": {
        "startLine": 809,
        "startChar": 59,
        "endLine": 809,
        "endChar": 62
      },
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dc072270_c4807376",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 809,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-06-24T08:11:30Z",
      "side": 1,
      "message": "This resolves the issue",
      "parentUuid": "9c72a152_c7566fa7",
      "range": {
        "startLine": 809,
        "startChar": 59,
        "endLine": 809,
        "endChar": 62
      },
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d934e7d_e2ae1b0d",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 817,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-06-24T07:02:44Z",
      "side": 1,
      "message": "should this be inside an `else` block ?",
      "range": {
        "startLine": 817,
        "startChar": 8,
        "endLine": 817,
        "endChar": 58
      },
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dcc13ba1_40862624",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 817,
      "author": {
        "id": 1002297
      },
      "writtenOn": "2025-06-24T07:25:21Z",
      "side": 1,
      "message": "The update for the device will still be marked as failed even if one of the components has a successful update",
      "parentUuid": "8d934e7d_e2ae1b0d",
      "range": {
        "startLine": 817,
        "startChar": 8,
        "endLine": 817,
        "endChar": 58
      },
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a132aca9_24055e3c",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 817,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-06-24T07:49:35Z",
      "side": 1,
      "message": "But then we are calling updateDeviceCompletion again in activateFirmware and marking it as true.\nSo we are not actually marking it failed for partial updates here.",
      "parentUuid": "dcc13ba1_40862624",
      "range": {
        "startLine": 817,
        "startChar": 8,
        "endLine": 817,
        "endChar": 58
      },
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "62f92c15_ae1ff395",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 817,
      "author": {
        "id": 1002297
      },
      "writtenOn": "2025-06-24T08:05:27Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "a132aca9_24055e3c",
      "range": {
        "startLine": 817,
        "startChar": 8,
        "endLine": 817,
        "endChar": 58
      },
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a1a505ae_8c8e9fcf",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 823,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-06-24T07:02:44Z",
      "side": 1,
      "message": "preset it to false instead, it should be marked to true only on success",
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8385df16_89a10739",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 823,
      "author": {
        "id": 1002297
      },
      "writtenOn": "2025-06-24T07:25:21Z",
      "side": 1,
      "message": "I don\u0027t think it matters what the default value is since we\u0027re setting it to the correct value in the failed scenarios",
      "parentUuid": "a1a505ae_8c8e9fcf",
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a3ee80c_6eec8f36",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 823,
      "author": {
        "id": 1002325
      },
      "writtenOn": "2025-06-24T07:49:35Z",
      "side": 1,
      "message": "We could have avoided setting it to false in the case of failure, and only set it true for the success cases.",
      "parentUuid": "8385df16_89a10739",
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d2097dad_8bb18678",
        "filename": "fw-update/device_updater.cpp",
        "patchSetId": 6
      },
      "lineNbr": 823,
      "author": {
        "id": 1002297
      },
      "writtenOn": "2025-06-24T08:05:27Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "9a3ee80c_6eec8f36",
      "revId": "669ca076d948bc39dc844da008fe67cd9610c4e3",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}