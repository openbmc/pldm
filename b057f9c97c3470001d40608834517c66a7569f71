{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "8675654c_45f5b5d8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-09-30T08:54:57Z",
      "side": 1,
      "message": "as this sentence `If the\nPollForPlatformEventMessage command is executed because of a eventData format for\npldmMessagePollEvent, this will be the dataTransferHandle value returned from the\npldmMessagePollEvent.` in `Table 16 – PollForPlatformEventMessage command format` of DSP0248, the `dataTransferHandle` in `pldmMessagePollEvent` eventClass will be inputed as parameter of `PollForPlatformEventMessage` methods.\nI updated code in patch set version #12 to support that.",
      "revId": "b057f9c97c3470001d40608834517c66a7569f71",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "29a81873_68f3d359",
        "filename": "platform-mc/event_manager.cpp",
        "patchSetId": 12
      },
      "lineNbr": 588,
      "author": {
        "id": 1002038
      },
      "writtenOn": "2024-10-01T00:16:09Z",
      "side": 1,
      "message": "If `TransferOperationFlag` is `AcknowledgeOnly`, `eventIdToAcknowledge` should be `eventId` from PLDM terminus response to ack, right?",
      "revId": "b057f9c97c3470001d40608834517c66a7569f71",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dcac9dd4_89a25185",
        "filename": "platform-mc/event_manager.cpp",
        "patchSetId": 12
      },
      "lineNbr": 588,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-10-01T00:19:54Z",
      "side": 1,
      "message": "As `Figure 22 – Switching from asynchronous eventing to poll for an event with large data`, the eventIdToAcknowledge should be 0xffff when TransferOperationFlag is AcknowledgeOnly.",
      "parentUuid": "29a81873_68f3d359",
      "revId": "b057f9c97c3470001d40608834517c66a7569f71",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6090d9a9_c09d868f",
        "filename": "platform-mc/event_manager.cpp",
        "patchSetId": 12
      },
      "lineNbr": 588,
      "author": {
        "id": 1002038
      },
      "writtenOn": "2024-10-01T02:17:25Z",
      "side": 1,
      "message": "It looks like an issue in Figure 22. In Table 16, eventIDToAcknowledge mentioned for acking an event previously received and 0xFFFF should use when in the middle of a multipart event transfer (GetNextPart).",
      "parentUuid": "dcac9dd4_89a25185",
      "revId": "b057f9c97c3470001d40608834517c66a7569f71",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3983a1e_392627bf",
        "filename": "platform-mc/event_manager.cpp",
        "patchSetId": 12
      },
      "lineNbr": 588,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-10-01T04:30:14Z",
      "side": 1,
      "message": "I think you are right.\nAs DSP0248 V1.3.0, `Figure 22 - Switching from asynchronous eventing to\npoll for an event with large data` when the `tranferFlag` of\n`PollForPlatformEventMessage` is `AcknowledgementOnly` the\n`eventIDToAcknowledge` will be 0xffff.\n\nBut the contents in lines #1678 to #1681 of the same specs details\n```\n1678 0x0000 shall be returned to indicate the terminus event queue is empty. The PLDM Event Receiver shall\n1679 acknowledge reception of the event by issuing the command again with the eventIDToAcknowledge set\n1680 to the previously retrieved eventID (from the PLDM terminus). The PLDM terminus shall remove the\n1681 acknowledged event message from its internal FIFO upon reception of the acknowledgment\n```\n\nWhen the `tranferFlag` is `AcknowledgementOnly` the\n`eventIDToAcknowledge` should be `the previously retrieved eventID (from\nthe PLDM terminus)` which is not 0x0000 and 0xffff. Because `The PLDM\nterminus shall remove the acknowledged event message` so the contents in\nlines #1678 to #1681 are correct.",
      "parentUuid": "6090d9a9_c09d868f",
      "revId": "b057f9c97c3470001d40608834517c66a7569f71",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "34553ffa_9a4c3d86",
        "filename": "platform-mc/event_manager.cpp",
        "patchSetId": 12
      },
      "lineNbr": 588,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-10-01T09:31:55Z",
      "side": 1,
      "message": "I updated the checking for eventIDToAcknowledge  when tranferFlag is AcknowledgementOnly https://gerrit.openbmc.org/c/openbmc/libpldm/+/74953\nPlease help checking.\n\nThe code in this patch set is also updated.",
      "parentUuid": "a3983a1e_392627bf",
      "revId": "b057f9c97c3470001d40608834517c66a7569f71",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}