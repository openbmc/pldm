{
  "comments": [
    {
      "key": {
        "uuid": "e230d69d_d3a92d81",
        "filename": "oem/ibm/libpldmresponder/file_io.hpp",
        "patchSetId": 8
      },
      "lineNbr": 226,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2021-02-08T08:35:11Z",
      "side": 1,
      "message": "sdbusplus has a utility method for this - please use.",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3dc29f75_21cbcb4c",
        "filename": "oem/ibm/libpldmresponder/file_io.hpp",
        "patchSetId": 8
      },
      "lineNbr": 226,
      "author": {
        "id": 1000207
      },
      "writtenOn": "2021-02-08T17:56:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e230d69d_d3a92d81",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c2224733_33a655bc",
        "filename": "oem/ibm/libpldmresponder/file_io.hpp",
        "patchSetId": 8
      },
      "lineNbr": 236,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2021-02-08T08:35:11Z",
      "side": 1,
      "message": "Break out of the loop when this is found? Do you expect multiple resource dumps to be found?",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9fa48cac_73b033dc",
        "filename": "oem/ibm/libpldmresponder/file_io.hpp",
        "patchSetId": 8
      },
      "lineNbr": 236,
      "author": {
        "id": 1000207
      },
      "writtenOn": "2021-02-08T17:56:53Z",
      "side": 1,
      "message": "As of now it expects one entry at a time. So I am adding break.",
      "parentUuid": "c2224733_33a655bc",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dee35113_df69efb1",
        "filename": "oem/ibm/libpldmresponder/file_io.hpp",
        "patchSetId": 8
      },
      "lineNbr": 238,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2021-02-08T08:35:11Z",
      "side": 1,
      "message": "could have used auto",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "907c0f29_09f4e3b1",
        "filename": "oem/ibm/libpldmresponder/file_io.hpp",
        "patchSetId": 8
      },
      "lineNbr": 238,
      "author": {
        "id": 1000207
      },
      "writtenOn": "2021-02-08T17:56:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dee35113_df69efb1",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "edaaed6c_6bdb3e7b",
        "filename": "oem/ibm/libpldmresponder/file_io_type_dump.cpp",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2021-02-08T08:35:11Z",
      "side": 1,
      "message": "why this?",
      "range": {
        "startLine": 34,
        "startChar": 67,
        "endLine": 34,
        "endChar": 68
      },
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89fd8d86_00f77742",
        "filename": "oem/ibm/libpldmresponder/file_io_type_dump.cpp",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 1000207
      },
      "writtenOn": "2021-02-08T17:56:53Z",
      "side": 1,
      "message": "This is the file generated in requester. This is used to delete the file when hypervisor sends the File Ack command after validating the input parameters. We need to re-look when we support the multiple resource dumps. I shall add a comment here.",
      "parentUuid": "edaaed6c_6bdb3e7b",
      "range": {
        "startLine": 34,
        "startChar": 67,
        "endLine": 34,
        "endChar": 68
      },
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5de6c5ef_7b11feda",
        "filename": "oem/ibm/requester/dbus_to_file_handler.cpp",
        "patchSetId": 8
      },
      "lineNbr": 125,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2021-02-08T08:35:11Z",
      "side": 1,
      "message": "The InterfacesAdded signal gives you the property values. There\u0027s no need to make additional D-Bus calls.",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c25aea4_3dd747ef",
        "filename": "oem/ibm/requester/dbus_to_file_handler.cpp",
        "patchSetId": 8
      },
      "lineNbr": 125,
      "author": {
        "id": 1000207
      },
      "writtenOn": "2021-02-08T17:56:53Z",
      "side": 1,
      "message": "Yes I am using the same dbus path passed from the InterfacesAdded signal. In the requester code I am using the \"path\" for error handling code also to update the status. Rather than passing through here I am moving this \"path\" variable to the constructor.",
      "parentUuid": "5de6c5ef_7b11feda",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c591423e_2a8e7084",
        "filename": "oem/ibm/requester/dbus_to_file_handler.cpp",
        "patchSetId": 8
      },
      "lineNbr": 125,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2021-02-09T08:37:25Z",
      "side": 1,
      "message": "My comment is not about the path, it\u0027s about the dictionary of property:value. You get that with the signal as well, but you\u0027re not consuming it. You\u0027re making additional GetProperty calls, which is unnecessary and will impact performance (because there are D-Bus calls made).",
      "parentUuid": "3c25aea4_3dd747ef",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74ad42ea_f46ff734",
        "filename": "oem/ibm/requester/dbus_to_file_handler.cpp",
        "patchSetId": 8
      },
      "lineNbr": 125,
      "author": {
        "id": 1000207
      },
      "writtenOn": "2021-02-10T10:54:54Z",
      "side": 1,
      "message": "I have changed the code not to use getDbusProperty() menthod. But when we receive the InterfacesAdded added signal, values of the properties are not populated and I get NULL values.\nAlso I had a tried to wait for different properties changed signals but facing issue with multiple properties changed signal and dynamic paths (entry/1, entry/2 etc) \nSo I shall note this and may be later we can think of avoiding getDbusProperty() method. is that fine ?",
      "parentUuid": "c591423e_2a8e7084",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e60d9751_d2aa7630",
        "filename": "oem/ibm/requester/dbus_to_file_handler.cpp",
        "patchSetId": 8
      },
      "lineNbr": 125,
      "author": {
        "id": 1000207
      },
      "writtenOn": "2021-02-10T11:05:05Z",
      "side": 1,
      "message": "InterfacesAdded data:\nSender\u003d:1.305  Path\u003d/xyz/openbmc_project/dump  Interface\u003dorg.freedesktop.DBus.ObjectManager  Member\u003dInterfacesAdded\n                    DICT_ENTRY \"sa{sv}\" {\n                          STRING \"com.ibm.Dump.Entry.Resource\";\n                          ARRAY \"{sv}\" {\n                                  DICT_ENTRY \"sv\" {\n                                          STRING \"SourceDumpId\";\n                                          VARIANT \"u\" {\n                                                  UINT32 0;\n                                          };\n                                  };\n                                  DICT_ENTRY \"sv\" {\n                                          STRING \"VSPString\";\n                                          VARIANT \"s\" {\n                                                  STRING \"\";\n                                          };\n                                  };\n                                  DICT_ENTRY \"sv\" {\n                                          STRING \"Password\";\n                                          VARIANT \"s\" {\n                                                  STRING \"\";\n                                          };\n                                  };\n                          };\n                  };",
      "parentUuid": "74ad42ea_f46ff734",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03145dae_da306a52",
        "filename": "oem/ibm/requester/dbus_to_file_handler.cpp",
        "patchSetId": 8
      },
      "lineNbr": 125,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2021-02-10T12:41:36Z",
      "side": 1,
      "message": "This looks like a bug in the dump code or code that creates the resource dump d-bus object. I would expect the path to be something like /xyz/openbmc_project/dump/resource/\u003cid\u003e. It also seems like that code is emitting InterfacesAdded before populating the properties, which is another bug. Your call to getDbusProperty() may or may not work with this bug. I think that bug should be addressed and pldm code should watch for InterfacesAdded and consume properties like any other D-Bus client. Additionally, watch for PropertiesChanged if you care about that.",
      "parentUuid": "e60d9751_d2aa7630",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6dc39bd6_94592346",
        "filename": "oem/ibm/requester/dbus_to_file_handler.cpp",
        "patchSetId": 8
      },
      "lineNbr": 125,
      "author": {
        "id": 1000207
      },
      "writtenOn": "2021-02-10T12:58:26Z",
      "side": 1,
      "message": "Okay once we get the data in the InterfacesAdded signal, probably additional check for PropertiesChanged signal may not be needed. Adding @dhruv to comment on this.",
      "parentUuid": "03145dae_da306a52",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab698285_7ff711c1",
        "filename": "oem/ibm/requester/dbus_to_file_handler.cpp",
        "patchSetId": 8
      },
      "lineNbr": 125,
      "author": {
        "id": 1000084
      },
      "writtenOn": "2021-02-10T13:08:51Z",
      "side": 1,
      "message": "Need to check this, but I though interface added is coming on the root interface",
      "parentUuid": "6dc39bd6_94592346",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ccf31d1_6ebbf04b",
        "filename": "oem/ibm/requester/dbus_to_file_handler.cpp",
        "patchSetId": 8
      },
      "lineNbr": 125,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2021-02-10T13:30:51Z",
      "side": 1,
      "message": "signal time\u003d4373675.071171 sender\u003d:1.11 -\u003e destination\u003d(null destination) serial\u003d59 path\u003d/xyz/openbmc_project/logging; interface\u003dorg.freedesktop.DBus.ObjectManager; member\u003dInterfacesAdded\n   object path \"/xyz/openbmc_project/logging/entry/2\"\n\n@Dhruv, there is the path that sends the signal, but also the path on which the interfaces are added (see above - I created an error log via the Logging.Create API).\n\nEither @Jay did not paste the InterfacesAdded section correctly, or the object path itself is missing, which is odd. There should be an object path set to \"/xyz/openbmc_project/dump/resource/\u003cid\u003e\" and pldm code should be able to filter on that via the argN filter. That way the code here doesn\u0027t have to wake up for every dump type.",
      "parentUuid": "ab698285_7ff711c1",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b5028db_f194d9fd",
        "filename": "oem/ibm/requester/dbus_to_file_handler.cpp",
        "patchSetId": 8
      },
      "lineNbr": 207,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2021-02-08T08:38:54Z",
      "side": 1,
      "message": "avoid passing these as values.",
      "range": {
        "startLine": 207,
        "startChar": 34,
        "endLine": 207,
        "endChar": 54
      },
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b2640a95_f8c1bc72",
        "filename": "oem/ibm/requester/dbus_to_file_handler.cpp",
        "patchSetId": 8
      },
      "lineNbr": 207,
      "author": {
        "id": 1000207
      },
      "writtenOn": "2021-02-08T17:56:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5b5028db_f194d9fd",
      "range": {
        "startLine": 207,
        "startChar": 34,
        "endLine": 207,
        "endChar": 54
      },
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47463194_bff2a8bc",
        "filename": "oem/ibm/requester/dbus_to_file_handler.cpp",
        "patchSetId": 8
      },
      "lineNbr": 215,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2021-02-08T08:38:54Z",
      "side": 1,
      "message": "when is/is this file deleted?",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d7d8504_56de4e7e",
        "filename": "oem/ibm/requester/dbus_to_file_handler.cpp",
        "patchSetId": 8
      },
      "lineNbr": 215,
      "author": {
        "id": 1000207
      },
      "writtenOn": "2021-02-08T17:56:53Z",
      "side": 1,
      "message": "This file got deleted when hypervisor sends the File Ack command after validating the input parameters.",
      "parentUuid": "47463194_bff2a8bc",
      "revId": "3ea728b67723b0c26be3fbd6790137481eb0c2cb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}