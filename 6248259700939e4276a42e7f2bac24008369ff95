{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "48fd1011_91e05557",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 9,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-04T04:42:57Z",
      "side": 1,
      "message": "please also add comments on what is the life time of these objects ? and whether they are backed up into the filesystem as well or not ?",
      "range": {
        "startLine": 9,
        "startChar": 30,
        "endLine": 9,
        "endChar": 67
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6bb7b3f_c83923ac",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 9,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-04T12:16:54Z",
      "side": 1,
      "message": "I updated the commit comments.\nBecause Fru data will be got in the discovery phase so no need to backed up into the file system.",
      "parentUuid": "48fd1011_91e05557",
      "range": {
        "startLine": 9,
        "startChar": 30,
        "endLine": 9,
        "endChar": 67
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a55f445b_6b5816b8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 9,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-12T09:58:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d6bb7b3f_c83923ac",
      "range": {
        "startLine": 9,
        "startChar": 30,
        "endLine": 9,
        "endChar": 67
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db7bd7be_2e44089e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 10,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-04T04:42:57Z",
      "side": 1,
      "message": "it be worth to keep the entity aux name here instead of fru ? (if the entity has an aux names pdr)",
      "range": {
        "startLine": 10,
        "startChar": 38,
        "endLine": 10,
        "endChar": 41
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f041bcb3_6541ed23",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 10,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-04T12:16:54Z",
      "side": 1,
      "message": "\u003cTID_Name\u003e is the terminus aux name which you mention.\nAbout the `fru`, I would like to identify that is PLDM Fru Dbus object path that why I use `fru`.\n\nMaybe I will change PLDM object path to to `xyz/openbmc_project/FruPldm/\u003cTerminus_Name\u003e` To consistent with the object path `/xyz/openbmc_project/FruDevice/\u003cName\u003e` from `xyz.openbmc_project.FruDevice` service. what do you think?\n\nSo the PLDM Fru object can be:\n```\nbusctl introspect xyz.openbmc_project.PLDM  /xyz/openbmc_project/FruPldm/S0\nNAME                                     TYPE      SIGNATURE RESULT/VALUE FLAGS\norg.freedesktop.DBus.Introspectable      interface -         -            -\n.Introspect                              method    -         s            -\n...\nxyz.openbmc_project.Inventory.Source.PLDM.FRU interface -         -                                  -\n.AssetTag                                     property  s         \"\"                                 emits-change writable\n.ChassisType                                  property  s         \"\"                                 emits-change writable\n.Description                                  property  s         \"\"                                 emits-change writable\n.ECLevel                                      property  s         \"\"                                 emits-change writable\n.IANA                                         property  u         52538                              emits-change writable\n.Manufacturer                                 property  s         \"\"                                 emits-change writable\n.ManufacturerDate                             property  s         \"\"                                 emits-change writable\n.Model                                        property  s         \"00014003\"                         emits-change writable\n.Name                                         property  s         \"\"                                 emits-change writable\n.Other                                        property  s         \"\"                                 emits-change writable\n.PN                                           property  s         \"\"                                 emits-change writable\n.SKU                                          property  s         \"\"                                 emits-change writable\n.SN                                           property  s         \"123445\" emits-change writable\n.Vendor                                       property  s         \"\"                                 emits-change writable\n.Version                                      property  s         \"0.0.00007.003\"                    emits-change writable\n```",
      "parentUuid": "db7bd7be_2e44089e",
      "range": {
        "startLine": 10,
        "startChar": 38,
        "endLine": 10,
        "endChar": 41
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2be81c55_3b92eb9f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 10,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-12T09:58:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f041bcb3_6541ed23",
      "range": {
        "startLine": 10,
        "startChar": 38,
        "endLine": 10,
        "endChar": 41
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7f7ed59_655f34d7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 12,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-04T04:42:57Z",
      "side": 1,
      "message": "would also like to know the intent behind using the Inventory/Source/PLDM rather than directly hosting the inventory item interfaces ? (because inventory item interfaces are usually looked up by apps like bmcweb to populate redfish inventory). \n\n\nDo you also plan to implement patches in bmcweb to expose this data out ?",
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77b8bfb0_6290770a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 12,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-04T12:16:54Z",
      "side": 1,
      "message": "\u003e would also like to know the intent behind using the Inventory/Source/PLDM rather than directly hosting the inventory item interfaces ? (because inventory item interfaces are usually looked up by apps like bmcweb to populate redfish inventory).\n\nActually, there is no specific reason. Just because the Fru data is from PLDM Fru commands and there is also `xyz.openbmc_project.Inventory.Source.PLDM.FRU` D-Bus interface in phosphor-dbus-interface. We didn\u0027t think about show up PLDM Fru in BMCWeb.\n\nI think I will also update Fru data to the inventory item object path `/xyz/openbmc_project/inventory/system/board/S0` of terminus name `S0`  as below:\n```\nbusctl introspect xyz.openbmc_project.PLDM  /xyz/openbmc_project/inventory/system/board/S0\nNAME                                     TYPE      SIGNATURE RESULT/VALUE FLAGS\norg.freedesktop.DBus.Introspectable      interface -         -            -\n.Introspect                              method    -         s            -\n...\nxyz.openbmc_project.Inventory.Decorator.Asset       interface -         -                                        -\n.BuildDate                                          property  s         \"1234\"                       emits-change\n.Manufacturer                                       property  s         \"1234\"                       emits-change\n.Model                                              property  s         \"BMC DC-SCM\"                 emits-change\n.PartNumber                                         property  s         \"DVT1\"                       emits-change\n.SerialNumber                                       property  s         \"12345\"                      emits-change\n```\n\nWhat do you think about that? ( I will update code after get your feedback ).\n\n`xyz.openbmc_project.Inventory.Decorator.Asset` will be consumed by BMCWeb and Redfish.\n\n\u003e \n\u003e \n\u003e Do you also plan to implement patches in bmcweb to expose this data out ?\n\nWith the added `xyz.openbmc_project.Inventory.Decorator.Asset` interface, I think we don\u0027t need update BMCWeb or Redfish. I will check that.",
      "parentUuid": "f7f7ed59_655f34d7",
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "496739c0_b8998849",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 12,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-05T07:53:55Z",
      "side": 1,
      "message": "\u003e \u003e would also like to know the intent behind using the Inventory/Source/PLDM rather than directly hosting the inventory item interfaces ? (because inventory item interfaces are usually looked up by apps like bmcweb to populate redfish inventory).\n\u003e \n\u003e Actually, there is no specific reason. Just because the Fru data is from PLDM Fru commands and there is also `xyz.openbmc_project.Inventory.Source.PLDM.FRU` D-Bus interface in phosphor-dbus-interface. We didn\u0027t think about show up PLDM Fru in BMCWeb.\n\u003e \n\u003e I think I will also update Fru data to the inventory item object path `/xyz/openbmc_project/inventory/system/board/S0` of terminus name `S0`  as below:\n\u003e ```\n\u003e busctl introspect xyz.openbmc_project.PLDM  /xyz/openbmc_project/inventory/system/board/S0\n\u003e NAME                                     TYPE      SIGNATURE RESULT/VALUE FLAGS\n\u003e org.freedesktop.DBus.Introspectable      interface -         -            -\n\u003e .Introspect                              method    -         s            -\n\u003e ...\n\u003e xyz.openbmc_project.Inventory.Decorator.Asset       interface -         -                                        -\n\u003e .BuildDate                                          property  s         \"1234\"                       emits-change\n\u003e .Manufacturer                                       property  s         \"1234\"                       emits-change\n\u003e .Model                                              property  s         \"BMC DC-SCM\"                 emits-change\n\u003e .PartNumber                                         property  s         \"DVT1\"                       emits-change\n\u003e .SerialNumber                                       property  s         \"12345\"                      emits-change\n\u003e ```\n\u003e \n\u003e What do you think about that? ( I will update code after get your feedback ).\n\nI updated the patch set.\n\n\u003e \n\u003e `xyz.openbmc_project.Inventory.Decorator.Asset` will be consumed by BMCWeb and Redfish.\n\u003e \n\u003e \u003e \n\u003e \u003e \n\u003e \u003e Do you also plan to implement patches in bmcweb to expose this data out ?\n\u003e \n\u003e With the added `xyz.openbmc_project.Inventory.Decorator.Asset` interface, I think we don\u0027t need update BMCWeb or Redfish. I will check that.\n\nI tested the latest patch set version. The Fru data is exposed to BMCWeb and Redfish.",
      "parentUuid": "77b8bfb0_6290770a",
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e2ac386_c0ce4e1d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 12,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-06T05:13:22Z",
      "side": 1,
      "message": "based on the design documented in docs/design/pldm-stack :\n\n```\nThis design is built around the pldmd and entity-manager applications on the BMC:\n\n    The pldmd asks the host firmware\u0027s PLDM stack for the host\u0027s FRU record table, by sending it the PLDM GetFRURecordTable command. The pldmd should send this command if the host indicates support for the PLDM FRU spec. The pldmd receives a PLDM FRU record table from the host firmware ( www.dmtf.org/sites/default/files/standards/documents/DSP0257_1.0.0.pdf). The daemon parses the FRU record table and hosts raw PLDM FRU information on D-Bus. It will house the PLDM FRU properties for a certain FRU under an xyz.openbmc_project.Inventory.Source.PLDM.FRU D-Bus interface, and house the PLDM entity info extracted from the FRU record set PDR under an xyz.openbmc_project.Source.PLDM.Entity interface.\n\n    Configurations can be written for entity-manager to probe an interface like xyz.openbmc_project.Inventory.Source.PLDM.FRU, and create FRU inventory D-Bus objects. Inventory interfaces from the xyz.openbmc_project. Inventory namespace can be applied on these objects, by converting PLDM FRU property values into xyz.openbmc_project.Invnetory.Decorator.Asset property values, such as Part Number and Serial Number, in the entity manager configuration file. Bmcweb can find these FRU inventory objects based on D-Bus interfaces, as it does today.\n```\n\n----------\n\nwe do need entity manager configs that would probe an interface like `xyz.openbmc_project.Inventory.Source.PLDM.FRU` - do you have that in place ? can you show how does this look in redfish ? the example you had shown is a DC-SCM above - is that shown in the redfish processor collection ?",
      "parentUuid": "496739c0_b8998849",
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "42607599_04442920",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 12,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-06T12:18:35Z",
      "side": 1,
      "message": "\u003e based on the design documented in docs/design/pldm-stack :\n\u003e \n\u003e ```\n\u003e This design is built around the pldmd and entity-manager applications on the BMC:\n\u003e \n\u003e     The pldmd asks the host firmware\u0027s PLDM stack for the host\u0027s FRU record table, by sending it the PLDM GetFRURecordTable command. The pldmd should send this command if the host indicates support for the PLDM FRU spec. The pldmd receives a PLDM FRU record table from the host firmware ( www.dmtf.org/sites/default/files/standards/documents/DSP0257_1.0.0.pdf). The daemon parses the FRU record table and hosts raw PLDM FRU information on D-Bus. It will house the PLDM FRU properties for a certain FRU under an xyz.openbmc_project.Inventory.Source.PLDM.FRU D-Bus interface, \n\n\nThe latest patch set supports this. `xyz.openbmc_project.Inventory.Source.PLDM.FRU` interface is in `/xyz/openbmc_project/FruPldm/S1` path as below example.\n\n\n\u003e and house the PLDM entity info extracted from the FRU record set PDR under an xyz.openbmc_project.Source.PLDM.Entity interface.\n\n\nThe latest patch set does not support this part.\n\n\u003e \n\u003e     Configurations can be written for entity-manager to probe an interface like xyz.openbmc_project.Inventory.Source.PLDM.FRU, and create FRU inventory D-Bus objects. Inventory interfaces from the xyz.openbmc_project. Inventory namespace can be applied on these objects, by converting PLDM FRU property values into xyz.openbmc_project.Invnetory.Decorator.Asset property values, such as Part Number and Serial Number, in the entity manager configuration file. Bmcweb can find these FRU inventory objects based on D-Bus interfaces, as it does today.\n\nIn the final patch set, `pldmd` will also create `xyz.openbmc_project.Invnetory.Decorator.Asset` in the inventory object path `/xyz/openbmc_project/inventory/system/board/S1` so no entity-manager configuration is need.\n\n\u003e ```\n\u003e \n\u003e ----------\n\u003e \n\u003e we do need entity manager configs that would probe an interface like `xyz.openbmc_project.Inventory.Source.PLDM.FRU` - do you have that in place ?\n\n\nNo we don\u0027t. Because `pldmd` already create the `xyz.openbmc_project.Invnetory.Decorator.Asset` in `/xyz/openbmc_project/inventory/system/board/S1` so no need entity-manager configuration.\n\n\u003e can you show how does this look in redfish ? \n\nPlease check below output from Curl cmd.\n```\ncurl -X GET --user root:\u003c\u003e --insecure -H \"Content-Type: application/json\" https://\u003cBMCIP\u003e/redfish/v1/Chassis/S1\n{\n  \"@odata.id\": \"/redfish/v1/Chassis/S1\",\n  \"@odata.type\": \"#Chassis.v1_22_0.Chassis\",\n  \"Actions\": {\n    \"#Chassis.Reset\": {\n      \"@Redfish.ActionInfo\": \"/redfish/v1/Chassis/S1/ResetActionInfo\",\n      \"target\": \"/redfish/v1/Chassis/S1/Actions/Chassis.Reset\"\n    }\n  },\n  \"ChassisType\": \"RackMount\",\n  \"EnvironmentMetrics\": {\n    \"@odata.id\": \"/redfish/v1/Chassis/S1/EnvironmentMetrics\"\n  },\n  \"Id\": \"S1\",\n  \"Links\": {\n    \"ComputerSystems\": [\n      {\n        \"@odata.id\": \"/redfish/v1/Systems/system\"\n      }\n    ],\n    \"ManagedBy\": [\n      {\n        \"@odata.id\": \"/redfish/v1/Managers/bmc\"\n      }\n    ]\n  },\n  \"Manufacturer\": \"\",\n  \"Model\": \"000xx003\",\n  \"Name\": \"S1\",\n  \"PartNumber\": \"\",\n  \"PhysicalSecurity\": {\n    \"IntrusionSensor\": \"Normal\",\n    \"IntrusionSensorReArm\": \"Manual\"\n  },\n  \"PowerState\": \"On\",\n  \"PowerSubsystem\": {\n    \"@odata.id\": \"/redfish/v1/Chassis/S1/PowerSubsystem\"\n  },\n  \"Sensors\": {\n    \"@odata.id\": \"/redfish/v1/Chassis/S1/Sensors\"\n  },\n  \"SerialNumber\": \"00000021xxxx\",\n  \"Status\": {\n    \"State\": \"Enabled\"\n  },\n  \"ThermalSubsystem\": {\n    \"@odata.id\": \"/redfish/v1/Chassis/S1/ThermalSubsystem\"\n  }\n}\n```\n\nBelow is `xyz.openbmc_project.Inventory.Decorator.Asset` interface in the inventory D-Bus object path `/xyz/openbmc_project/inventory/system/board/S1`\n\n\n```\nbusctl introspect xyz.openbmc_project.PLDM /xyz/openbmc_project/inventory/system/board/S1\nNAME                                          TYPE      SIGNATURE RESULT/VALUE                       FLAGS\norg.freedesktop.DBus.Introspectable           interface -         -                                  -\n.Introspect                                   method    -         s                                  -\norg.freedesktop.DBus.Peer                     interface -         -                                  -\n.GetMachineId                                 method    -         s                                  -\n.Ping                                         method    -         -                                  -\norg.freedesktop.DBus.Properties               interface -         -                                  -\n.Get                                          method    ss        v                                  -\n.GetAll                                       method    s         a{sv}                              -\n.Set                                          method    ssv       -                                  -\n.PropertiesChanged                            signal    sa{sv}as  -                                  -\nxyz.openbmc_project.Inventory.Decorator.Asset interface -         -                                  -\n.BuildDate                                    property  s         \"\"                                 emits-change writable\n.Manufacturer                                 property  s         \"\"                                 emits-change writable\n.Model                                        property  s         \"000xx003\"                         emits-change writable\n.PartNumber                                   property  s         \"\"                                 emits-change writable\n.SerialNumber                                 property  s         \"00000021xxxx\" emits-change writable\n.SparePartNumber                              property  s         \"\"                                 emits-change writable\n.SubModel                                     property  s         \"\"                                 emits-change writable\n```\n\nBelow is the `xyz.openbmc_project.Inventory.Source.PLDM.FRU` D-Bus interface in`/xyz/openbmc_project/FruPldm/S1` object path.\n\n```\nbusctl introspect xyz.openbmc_project.PLDM /xyz/openbmc_project/FruPldm/S1\nNAME                                          TYPE      SIGNATURE RESULT/VALUE                       FLAGS\norg.freedesktop.DBus.Introspectable           interface -         -                                  -\n.Introspect                                   method    -         s                                  -\norg.freedesktop.DBus.Peer                     interface -         -                                  -\n.GetMachineId                                 method    -         s                                  -\n.Ping                                         method    -         -                                  -\norg.freedesktop.DBus.Properties               interface -         -                                  -\n.Get                                          method    ss        v                                  -\n.GetAll                                       method    s         a{sv}                              -\n.Set                                          method    ssv       -                                  -\n.PropertiesChanged                            signal    sa{sv}as  -                                  -\nxyz.openbmc_project.Inventory.Source.PLDM.FRU interface -         -                                  -\n.AssetTag                                     property  s         \"\"                                 emits-change writable\n.ChassisType                                  property  s         \"\"                                 emits-change writable\n.Description                                  property  s         \"\"                                 emits-change writable\n.ECLevel                                      property  s         \"\"                                 emits-change writable\n.IANA                                         property  u         52538                              emits-change writable\n.Manufacturer                                 property  s         \"\"                                 emits-change writable\n.ManufacturerDate                             property  s         \"\"                                 emits-change writable\n.Model                                        property  s         \"000xx003\"                         emits-change writable\n.Name                                         property  s         \"\"                                 emits-change writable\n.Other                                        property  s         \"\"                                 emits-change writable\n.PN                                           property  s         \"\"                                 emits-change writable\n.SKU                                          property  s         \"\"                                 emits-change writable\n.SN                                           property  s         \"00000021xxxx\" emits-change writable\n.Vendor                                       property  s         \"\"                                 emits-change writable\n.Version                                      property  s         \"x.x.xxxx.xxxx\"                    emits-change writable\n```\n\n`xyz.openbmc_project.Source.PLDM.Entity` will be added into this `/xyz/openbmc_project/FruPldm/S1` object path, I think.\n\n\n\u003e the example you had shown is a DC-SCM above - is that shown in the redfish processor collection ?\n\nIt just example. I added the corrected data which I run in the system with the updated patch set.",
      "parentUuid": "3e2ac386_c0ce4e1d",
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fbb7d158_d39f1741",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 12,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-07T08:13:27Z",
      "side": 1,
      "message": "\u003e \u003e and house the PLDM entity info extracted from the FRU record set PDR under an xyz.openbmc_project.Source.PLDM.Entity interface.\n\u003e \n\u003e \n\u003e The latest patch set does not support this part.\n\nI supported this part in patch set https://gerrit.openbmc.org/c/openbmc/pldm/+/76335",
      "parentUuid": "42607599_04442920",
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b187799a_d195b6f4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 12,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-11T04:34:36Z",
      "side": 1,
      "message": "I dont think we are following the design as stated in https://github.com/openbmc/docs/blob/master/designs/pldm-stack.md#processing-pldm-fru-information-sent-down-by-the-host-firmware\n\nEntity manager is supposed to probe on the `xyz.openbmc_project.Source.PLDM.Entity interface` and should host the Inventory.Item interfaces which should be consumed by bmcweb.\n\nI dont think we should be exposing the `xyz.openbmc_project.Source.PLDM.Entity interface.` interfaces directly to redfish/bmcweb.\n\n\nIn your example above , how is the information from Asset interface appended to the Chassis redfish object ?\n\n\u003e In the final patch set, pldmd will also create xyz.openbmc_project.Invnetory.Decorator.Asset in the inventory object path /xyz/openbmc_project/inventory/system/board/S1 so no entity-manager configuration is need.\n\nwhy do you think EM configuration is not needed ? , if the remote endpoint has PLDM_ENTITY_CHASSIS,if pldm is hosting Asset interface , how does that show us as a Chassis in redfish ?",
      "parentUuid": "fbb7d158_d39f1741",
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01041f88_19972f25",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 12,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-11T05:24:02Z",
      "side": 1,
      "message": "\u003e I dont think we are following the design as stated in https://github.com/openbmc/docs/blob/master/designs/pldm-stack.md#processing-pldm-fru-information-sent-down-by-the-host-firmware\n\u003e \n\u003e Entity manager is supposed to probe on the `xyz.openbmc_project.Source.PLDM.Entity interface` and should host the Inventory.Item interfaces which should be consumed by bmcweb.\n\u003e \n\u003e I dont think we should be exposing the `xyz.openbmc_project.Source.PLDM.Entity interface.` interfaces directly to redfish/bmcweb.\n\u003e \n\u003e \n\u003e In your example above , how is the information from Asset interface appended to the Chassis redfish object ?\n\nThis question is similar below question, right? So I answer as below.\n\n\u003e \n\u003e \u003e In the final patch set, pldmd will also create xyz.openbmc_project.Invnetory.Decorator.Asset in the inventory object path /xyz/openbmc_project/inventory/system/board/S1 so no entity-manager configuration is need.\n\u003e \n\u003e why do you think EM configuration is not needed ? , if the remote endpoint has PLDM_ENTITY_CHASSIS,if pldm is hosting Asset interface , how does that show us as a Chassis in redfish ?\n\nThere are some reason which I think that `pldmd` should directly add `xyz.openbmc_project.Invnetory.Decorator.Asset`.\n\n1. When there are 1x or 5x entity in the system which is reporting thru the pldm adding EM configuration for all of them can cause much headaches.\n\n2. Moreover, the entity name is unknown until `pldmd` discovery terminus PDRs so we should not use the static configuration for them.\n\n3. In the current `pldmd` we are creating the inventory patch for board entity at `/xyz/openbmc_project/inventory/system/board/\u003cEntityName\u003e`, in the future, if the entity is `PLDM_ENTITY_CHASSIS`, we can change the inventory path to `/xyz/openbmc_project/inventory/chassis/chassis/\u003cEntityName\u003e` or some thing like that. In this case, `pldmd` will create the `xyz.openbmc_project.Invnetory.Decorator.Asset` in inventory chassis path.\nThe redfish or web will collect `xyz.openbmc_project.Invnetory.Decorator.Asset` from chassis object path.\n4. We still can use entity manager configuration to create `xyz.openbmc_project.Invnetory.Decorator.Asset` while `pldmd` still create `xyz.openbmc_project.Invnetory.Decorator.Asset` right? Maybe I should add the build option to identity if `pldmd` will directly create `xyz.openbmc_project.Invnetory.Decorator.Asset`.",
      "parentUuid": "b187799a_d195b6f4",
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "696e9fc8_aca484fe",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 12,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-12T09:58:04Z",
      "side": 1,
      "message": "As the discussion in the discord https://discord.com/channels/775381525260664832/778790638563885086/1316321181405806592, I removed the `/xyz/openbmc_project/FruPldm/\u003cterminusName\u003e` object path. The `PLDM.Fru` interface is also removed.\nFor now we will only have Entity Inventory object path `/xyz/openbmc_project/inventory/system/board/\u003cEntityName\u003e`. `pldmd` will host the inventory object path with the `Decorator` interfaces and `Pldm.Entity` as below:\n\n```\nbusctl introspect xyz.openbmc_project.PLDM /xyz/openbmc_project/inventory/system/board/S0\nNAME                                               TYPE      SIGNATURE RESULT/VALUE                       FLAGS\norg.freedesktop.DBus.Introspectable                interface -         -                                  -\n.Introspect                                        method    -         s                                  -\norg.freedesktop.DBus.Peer                          interface -         -                                  -\n.GetMachineId                                      method    -         s                                  -\n.Ping                                              method    -         -                                  -\norg.freedesktop.DBus.Properties                    interface -         -                                  -\n.Get                                               method    ss        v                                  -\n.GetAll                                            method    s         a{sv}                              -\n.Set                                               method    ssv       -                                  -\n.PropertiesChanged                                 signal    sa{sv}as  -                                  -\nxyz.openbmc_project.Inventory.Decorator.Asset      interface -         -                                  -\n.BuildDate                                         property  s         \"\"                                 emits-change writable\n.Manufacturer                                      property  s         \"\"                                 emits-change writable\n.Model                                             property  s         \"00014003\"                         emits-change writable\n.PartNumber                                        property  s         \"\"                                 emits-change writable\n.SerialNumber                                      property  s         \"000000123444456789\" emits-change writable\n.SparePartNumber                                   property  s         \"\"                                 emits-change writable\n.SubModel                                          property  s         \"\"                                 emits-change writable\nxyz.openbmc_project.Inventory.Decorator.AssetTag   interface -         -                                  -\n.AssetTag                                          property  s         \"\"                                 emits-change writable\nxyz.openbmc_project.Inventory.Decorator.Compatible interface -         -                                  -\n.Names                                             property  as        0                                  emits-change writable\nxyz.openbmc_project.Inventory.Decorator.Revision   interface -         -                                  -\n.Version                                           property  s         \"x.x.x.x\"                    emits-change writable\nxyz.openbmc_project.Inventory.Item.Board           interface -         -                                  -\nxyz.openbmc_project.Inventory.Source.PLDM.Entity   interface -         -                                  -\n.ContainerID                                       property  q         0                                  emits-change writable\n.EntityInstanceNumber                              property  q         0                                  emits-change writable\n.EntityType                                        property  q         0                                  emits-change writable\n```\n\nThe redfish will response for request `https://\u003cBMCIP\u003e/redfish/v1/Chassis/S0` as below:\n\n```\n\"AssetTag\": \"\",\n\"ChassisType\": \"RackMount\",\n\"EnvironmentMetrics\": {\n\"@odata.id\": \"/redfish/v1/Chassis/S0/EnvironmentMetrics\"\n},\n\"Id\": \"S0\",\n\"Links\": {\n\"ComputerSystems\": [\n{\n\"@odata.id\": \"/redfish/v1/Systems/system\"\n}\n],\n\"ManagedBy\": [\n{\n\"@odata.id\": \"/redfish/v1/Managers/bmc\"\n}\n]\n},\n\"Manufacturer\": \"\",\n\"Model\": \"00014003\",\n\"Name\": \"S0\",\n\"PartNumber\": \"\",\n\"PhysicalSecurity\": {\n\"IntrusionSensor\": \"Normal\",\n\"IntrusionSensorReArm\": \"Manual\"\n},\n\"PowerState\": \"On\",\n\"PowerSubsystem\": {\n\"@odata.id\": \"/redfish/v1/Chassis/S0/PowerSubsystem\"\n},\n\"Sensors\": {\n\"@odata.id\": \"/redfish/v1/Chassis/S0/Sensors\"\n},\n\"SerialNumber\": \"00000012345668\",\n\"Status\": {\n\"State\": \"Enabled\"\n},\n\"ThermalSubsystem\": {\n\"@odata.id\": \"/redfish/v1/Chassis/S0/ThermalSubsystem\"\n},\n\"Version\": \"x.x.x.x\"\n```",
      "parentUuid": "01041f88_19972f25",
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "741bc8f4_3a52f009",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-04T04:42:57Z",
      "side": 1,
      "message": "Hi thu, could not complete an indepth review on this. But at the outset i do have certain questions which i have outlined here.",
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aaf4f7af_84fddc93",
        "filename": "platform-mc/dbus_impl_fru.hpp",
        "patchSetId": 8
      },
      "lineNbr": 39,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-04T04:42:57Z",
      "side": 1,
      "message": "bus_t",
      "range": {
        "startLine": 39,
        "startChar": 21,
        "endLine": 39,
        "endChar": 30
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0145c8ea_edb2b0f0",
        "filename": "platform-mc/dbus_impl_fru.hpp",
        "patchSetId": 8
      },
      "lineNbr": 39,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-04T12:16:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "aaf4f7af_84fddc93",
      "range": {
        "startLine": 39,
        "startChar": 21,
        "endLine": 39,
        "endChar": 30
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31d23595_a02ed0f3",
        "filename": "platform-mc/dbus_impl_fru.hpp",
        "patchSetId": 8
      },
      "lineNbr": 87,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-04T04:42:57Z",
      "side": 1,
      "message": "remove ?",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 87,
        "endChar": 10
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dd4e5a06_b45c5a35",
        "filename": "platform-mc/dbus_impl_fru.hpp",
        "patchSetId": 8
      },
      "lineNbr": 87,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-04T12:16:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "31d23595_a02ed0f3",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 87,
        "endChar": 10
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3a66422_cf87a490",
        "filename": "platform-mc/platform_manager.cpp",
        "patchSetId": 8
      },
      "lineNbr": 41,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-04T04:42:57Z",
      "side": 1,
      "message": "grammatically incorrect.\n\nhow about ```Fru record table meta data has 0 records```",
      "range": {
        "startLine": 41,
        "startChar": 28,
        "endLine": 41,
        "endChar": 66
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54c4d8cb_527d528b",
        "filename": "platform-mc/platform_manager.cpp",
        "patchSetId": 8
      },
      "lineNbr": 41,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-04T04:42:57Z",
      "side": 1,
      "message": "its ideally not an error, its just an info, because a remote endpoint can technically support the command but return 0 records which is perfectly valid.",
      "range": {
        "startLine": 41,
        "startChar": 16,
        "endLine": 41,
        "endChar": 26
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "433fd9a0_008c52f9",
        "filename": "platform-mc/platform_manager.cpp",
        "patchSetId": 8
      },
      "lineNbr": 41,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-04T12:16:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a3a66422_cf87a490",
      "range": {
        "startLine": 41,
        "startChar": 28,
        "endLine": 41,
        "endChar": 66
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "41009fcc_8fc1b74f",
        "filename": "platform-mc/platform_manager.cpp",
        "patchSetId": 8
      },
      "lineNbr": 41,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-04T12:16:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "54c4d8cb_527d528b",
      "range": {
        "startLine": 41,
        "startChar": 16,
        "endLine": 41,
        "endChar": 26
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e7b4ee1_3c468235",
        "filename": "platform-mc/platform_manager.cpp",
        "patchSetId": 8
      },
      "lineNbr": 52,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-04T04:42:57Z",
      "side": 1,
      "message": "Fru Record table",
      "range": {
        "startLine": 52,
        "startChar": 35,
        "endLine": 52,
        "endChar": 47
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "17195730_ae719aeb",
        "filename": "platform-mc/platform_manager.cpp",
        "patchSetId": 8
      },
      "lineNbr": 52,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-04T12:16:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2e7b4ee1_3c468235",
      "range": {
        "startLine": 52,
        "startChar": 35,
        "endLine": 52,
        "endChar": 47
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37ac3402_021e698e",
        "filename": "platform-mc/platform_manager.cpp",
        "patchSetId": 8
      },
      "lineNbr": 633,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-04T04:42:57Z",
      "side": 1,
      "message": "these can be considered as util functions ? can we move them into util.cpp ?",
      "range": {
        "startLine": 596,
        "startChar": 0,
        "endLine": 633,
        "endChar": 1
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "079ce41b_5645b14c",
        "filename": "platform-mc/platform_manager.cpp",
        "patchSetId": 8
      },
      "lineNbr": 633,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-04T12:16:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "37ac3402_021e698e",
      "range": {
        "startLine": 596,
        "startChar": 0,
        "endLine": 633,
        "endChar": 1
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d270d28_0752739b",
        "filename": "platform-mc/platform_manager.cpp",
        "patchSetId": 8
      },
      "lineNbr": 639,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-04T04:42:57Z",
      "side": 1,
      "message": "make this a filesystem::path object, so that the appends to this object will be easier in the later part of the code.",
      "range": {
        "startLine": 639,
        "startChar": 4,
        "endLine": 639,
        "endChar": 58
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ed57ee6f_ef02a7cb",
        "filename": "platform-mc/platform_manager.cpp",
        "patchSetId": 8
      },
      "lineNbr": 639,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-04T12:16:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5d270d28_0752739b",
      "range": {
        "startLine": 639,
        "startChar": 4,
        "endLine": 639,
        "endChar": 58
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3f9144c_a55dca69",
        "filename": "platform-mc/platform_manager.hpp",
        "patchSetId": 8
      },
      "lineNbr": 179,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2024-12-04T04:42:57Z",
      "side": 1,
      "message": "fix the wrapping here",
      "range": {
        "startLine": 178,
        "startChar": 7,
        "endLine": 179,
        "endChar": 9
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84ef1cd2_c882654d",
        "filename": "platform-mc/platform_manager.hpp",
        "patchSetId": 8
      },
      "lineNbr": 179,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-12-04T12:16:54Z",
      "side": 1,
      "message": "Done. Not sure why the CI does not report the alignment errors.",
      "parentUuid": "e3f9144c_a55dca69",
      "range": {
        "startLine": 178,
        "startChar": 7,
        "endLine": 179,
        "endChar": 9
      },
      "revId": "6248259700939e4276a42e7f2bac24008369ff95",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}