{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a7f34ba0_cb98cb50",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2022-09-22T05:25:25Z",
      "side": 1,
      "message": "As long as https://github.com/openbmc/openbmc/issues/3459 or https://github.com/systemd/systemd/issues/11420 is \"really\" fixed, this change will not be needed.\n\nFor now I have no strong opinion of this change and I\u0027m OK with it.",
      "revId": "209c009a64ae3a6becc887f736e6f5994792a940",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e0ad16e3_0b35df2f",
        "filename": "libpldmresponder/bios.cpp",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2022-09-16T08:20:51Z",
      "side": 1,
      "message": "This doesn\u0027t completely solve your problem:\nBecause, if you change from NTP mode to Manual mode, the NTP service will take a period of time to stop. During this period, the Manual default is seen on DBus, but it is still NTP, so we still have this problem when calling the setTime method.\n\n@Lei, What do you think?",
      "range": {
        "startLine": 173,
        "startChar": 21,
        "endLine": 173,
        "endChar": 72
      },
      "revId": "209c009a64ae3a6becc887f736e6f5994792a940",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17559ce3_2c2f7ee1",
        "filename": "libpldmresponder/bios.cpp",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2022-09-16T08:53:26Z",
      "side": 1,
      "message": "\u003e This doesn\u0027t completely solve your problem:\n\u003e Because, if you change from NTP mode to Manual mode, the NTP service will take a period of time to stop. During this period, the Manual default is seen on DBus, but it is still NTP, so we still have this problem when calling the setTime method.\n\u003e \n\u003e @Lei, What do you think?\n\n@George - not sure I am getting how this is related to a problem in PLDM.\nWhen host sets time \n```\nif(ntp mode) -\u003e don\u0027t set the time again\nif not -\u003e set th time\n```\n\nI think the problem that you are mentioning should be fixed in the time manager or systems-timesyncd to make sure you still return the result as NTP until we completely move to manual mode.",
      "parentUuid": "e0ad16e3_0b35df2f",
      "range": {
        "startLine": 173,
        "startChar": 21,
        "endLine": 173,
        "endChar": 72
      },
      "revId": "209c009a64ae3a6becc887f736e6f5994792a940",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a223ce45_9b1da408",
        "filename": "libpldmresponder/bios.cpp",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2022-09-19T05:24:45Z",
      "side": 1,
      "message": "This really depends on the requirement about if you allow setting time when NTP is enabled or not.\n\nThe issue mentioned by George is the use case that user sets BMC time when the sync method is changed from NTP to Manual.\n\nWe have a downstream patch in time-manager that allows setting time in NTP, and it resolves such issues.\n\n@George @ManojKiran I think it could be discussed in the mailing list and see the community feedback.\nIf it\u0027s accepted that settings time in NTP mode is allowed (and the time set will be \"reverted\" if NTP is synced again), then I could send the downstream patch to upstream.",
      "parentUuid": "17559ce3_2c2f7ee1",
      "range": {
        "startLine": 173,
        "startChar": 21,
        "endLine": 173,
        "endChar": 72
      },
      "revId": "209c009a64ae3a6becc887f736e6f5994792a940",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e65cde9f_104e6e4e",
        "filename": "libpldmresponder/bios.cpp",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2022-09-19T08:24:55Z",
      "side": 1,
      "message": "\u003e This really depends on the requirement about if you allow setting time when NTP is enabled or not.\n\u003e \n\u003e The issue mentioned by George is the use case that user sets BMC time when the sync method is changed from NTP to Manual.\n\u003e \n\u003e We have a downstream patch in time-manager that allows setting time in NTP, and it resolves such issues.\n\u003e \n\u003e @George @ManojKiran I think it could be discussed in the mailing list and see the community feedback.\n\u003e If it\u0027s accepted that settings time in NTP mode is allowed (and the time set will be \"reverted\" if NTP is synced again), then I could send the downstream patch to upstream.\n\nOkay, I will send an email to discuss this issue, but for now I agree with the current way, we can update it later if there are changes.",
      "parentUuid": "a223ce45_9b1da408",
      "range": {
        "startLine": 173,
        "startChar": 21,
        "endLine": 173,
        "endChar": 72
      },
      "revId": "209c009a64ae3a6becc887f736e6f5994792a940",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14ac787a_49afed00",
        "filename": "libpldmresponder/bios.cpp",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 1000005
      },
      "writtenOn": "2022-09-19T08:45:30Z",
      "side": 1,
      "message": "@Lei Yu, are you suggesting we don\u0027t need this check, if your patches are accepted?",
      "parentUuid": "e65cde9f_104e6e4e",
      "range": {
        "startLine": 173,
        "startChar": 21,
        "endLine": 173,
        "endChar": 72
      },
      "revId": "209c009a64ae3a6becc887f736e6f5994792a940",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "24b08bfe_4d0fa8f6",
        "filename": "libpldmresponder/bios.cpp",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2022-09-19T09:13:13Z",
      "side": 1,
      "message": "\u003e @Lei Yu, are you suggesting we don\u0027t need this check, if your patches are accepted?\n\n@Tom, I sent an email, welcome to leave your suggestion \nhttps://lore.kernel.org/openbmc/CANFuQ7DkAwQqLZoOMPmTURUWDdk\u003dKfx1xTFN2jE9VQQH-wmhSA@mail.gmail.com/T/#u",
      "parentUuid": "14ac787a_49afed00",
      "range": {
        "startLine": 173,
        "startChar": 21,
        "endLine": 173,
        "endChar": 72
      },
      "revId": "209c009a64ae3a6becc887f736e6f5994792a940",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f815816_14fb7cce",
        "filename": "libpldmresponder/bios.cpp",
        "patchSetId": 3
      },
      "lineNbr": 175,
      "author": {
        "id": 1000005
      },
      "writtenOn": "2022-09-19T08:45:30Z",
      "side": 1,
      "message": "IPMI SetSELTime used to be send by host firmware at a frequency of a minute on certain platforms, we certainly don\u0027t want informational traces to flood journal.",
      "revId": "209c009a64ae3a6becc887f736e6f5994792a940",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae87f509_db0ea8e0",
        "filename": "libpldmresponder/bios.cpp",
        "patchSetId": 3
      },
      "lineNbr": 175,
      "author": {
        "id": 1000938
      },
      "writtenOn": "2022-09-26T11:17:37Z",
      "side": 1,
      "message": "Done\nremoved the trace",
      "parentUuid": "2f815816_14fb7cce",
      "revId": "209c009a64ae3a6becc887f736e6f5994792a940",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}