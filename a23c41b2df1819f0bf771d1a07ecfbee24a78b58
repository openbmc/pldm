{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9b89ddf9_48ed9034",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 7,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2026-02-02T05:35:42Z",
      "side": 1,
      "message": "Why is there a need to replace? Can you add that in the commit message?",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "151094a1_8c2cd8da",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 7,
      "author": {
        "id": 1001906
      },
      "writtenOn": "2026-02-12T06:26:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9b89ddf9_48ed9034",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b502223b_9760bc83",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 17,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2026-02-02T05:35:42Z",
      "side": 1,
      "message": "Testing details are required.",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "456578b6_e78e580f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 17,
      "author": {
        "id": 1001906
      },
      "writtenOn": "2026-02-12T06:26:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b502223b_9760bc83",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93113cb7_32a9797c",
        "filename": "platform-mc/terminus.cpp",
        "patchSetId": 12
      },
      "lineNbr": 204,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2026-02-02T05:35:42Z",
      "side": 1,
      "message": "How are we sure the config exists at this point of time?",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "74e2627f_ee7ec6e2",
        "filename": "platform-mc/terminus.cpp",
        "patchSetId": 12
      },
      "lineNbr": 204,
      "author": {
        "id": 1001906
      },
      "writtenOn": "2026-02-02T07:29:12Z",
      "side": 1,
      "message": "The MCTP reactor periodically polls the Entity Manager I2C/I3C target interface to trigger the mctpEndpointAdded signal.\n\nI extended the MCTPTarget structure to include PLDMSensors, ensuring that sensor information is available in time and avoiding potential timing issues.",
      "parentUuid": "93113cb7_32a9797c",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9e464008_f93e4ded",
        "filename": "platform-mc/terminus.cpp",
        "patchSetId": 12
      },
      "lineNbr": 224,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2026-02-02T05:35:42Z",
      "side": 1,
      "message": "I have some comments on the EM patch.",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "10c53c37_dbecddbd",
        "filename": "platform-mc/terminus.cpp",
        "patchSetId": 12
      },
      "lineNbr": 816,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2026-02-02T05:35:42Z",
      "side": 1,
      "message": "How do we know the associated path exists at this point of time?",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ea6c766_b2d87793",
        "filename": "platform-mc/terminus.cpp",
        "patchSetId": 12
      },
      "lineNbr": 816,
      "author": {
        "id": 1001906
      },
      "writtenOn": "2026-02-02T07:29:12Z",
      "side": 1,
      "message": "This will be ensured by the MCTP reactor.",
      "parentUuid": "10c53c37_dbecddbd",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e39f4232_7abe5741",
        "filename": "platform-mc/terminus.cpp",
        "patchSetId": 12
      },
      "lineNbr": 816,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2026-02-02T07:43:50Z",
      "side": 1,
      "message": "Right, but how do we know mctpreactor and mapper have completed their processing for the associated EM configuration object to exist when pldmd looks for it here?",
      "parentUuid": "7ea6c766_b2d87793",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2bbcdc65_011a6ed4",
        "filename": "platform-mc/terminus.cpp",
        "patchSetId": 12
      },
      "lineNbr": 816,
      "author": {
        "id": 1001906
      },
      "writtenOn": "2026-02-02T09:29:56Z",
      "side": 1,
      "message": "If we cannot ensure that MctpDiscovery::searchConfigurationFor reliably retrieves the association path\n\nhttps://github.com/openbmc/pldm/blob/master/requester/mctp_endpoint_discovery.cpp#L445\n\nI think we have two possible ways to improve this:\n1. Modify the MCTP reactor to ensure that PLDM can obtain the correct path.\n2. Use the MCTP address and bus to map the target name to the association path via EntityManager.\n\n@andrew@codeconstruct.com.au\nCould you please share your comments on this?",
      "parentUuid": "e39f4232_7abe5741",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ea0a0ce_bcf80ed3",
        "filename": "platform-mc/terminus.cpp",
        "patchSetId": 12
      },
      "lineNbr": 816,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2026-02-02T09:36:21Z",
      "side": 1,
      "message": "I\u0027ll let Andrew comment as well, but I think atm you need to subscribe to two signals - the MCTP.Endpoint and the association interface on the /configured_by object. Only when you receive both can you access the EM config from the association object. I\u0027ve done something similar in a set of dbus-sensor patches for nvidia-gpu. Open to better approaches.",
      "parentUuid": "2bbcdc65_011a6ed4",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ddc8198_8f4e7a13",
        "filename": "platform-mc/terminus.cpp",
        "patchSetId": 12
      },
      "lineNbr": 816,
      "author": {
        "id": 1001906
      },
      "writtenOn": "2026-02-03T10:12:42Z",
      "side": 1,
      "message": "If we monitor the configured_by object, it means the Entity Manager I2C/I3C target configuration is required. Is this what you expected?\n\nCould you please check the implementation method as follows?\nvoid MctpDiscovery::getAddedMctpInfos(sdbusplus::message_t\u0026 msg,\n                                      MctpInfos\u0026 mctpInfos)\n{\n    using ObjectPath \u003d sdbusplus::message::object_path;\n    ObjectPath objPath;\n    using pldm::utils::PropertyMap;\n    std::map\u003cstd::string, PropertyMap\u003e interfaces;\n    std::string uuid \u003d emptyUUID;\n\n    try\n    {\n        msg.read(objPath, interfaces);\n    }\n    catch (const std::exception\u0026 e)\n    {\n        lg2::error(\"Failed to read InterfacesAdded message: {ERROR}\", \"ERROR\",\n                   e.what());\n        return;\n    }\n\n    const std::string mctpInterface \u003d MCTPEndpoint::interface;\n    const std::string assocInterface \u003d\n        \"xyz.openbmc_project.Association.Definitions\";\n\n    bool hasEndpointInSignal \u003d interfaces.contains(mctpInterface);\n    bool hasAssocInSignal \u003d interfaces.contains(assocInterface);\n\n    // Only proceed if the signal contains either Endpoint or Association\n    if (!hasEndpointInSignal \u0026\u0026 !hasAssocInSignal)\n    {\n        return;\n    }\n\n    pldm::utils::DBusHandler dbusHandler;\n\n    // Verification of Association\n    // If Association is not in the current signal, check if it exists on D-Bus\n    if (!hasAssocInSignal)\n    {\n        try\n        {\n            dbusHandler.getService(objPath.str.c_str(), assocInterface.c_str());\n        }\n        catch (const std::exception\u0026 e)\n        {\n            lg2::info(\n                \"MCTP Path \u0027{PATH}\u0027 is missing Association. Waiting for MCTPReactor signal.\",\n                \"PATH\", objPath.str);\n            return;\n        }\n    }\n\n    // Retrieval of MCTP Endpoint Properties\n    PropertyMap properties;\n    if (hasEndpointInSignal)\n    {\n        properties \u003d interfaces.at(mctpInterface);\n    }\n    else\n    {\n        try\n        {\n            auto service \u003d dbusHandler.getService(objPath.str.c_str(),\n                                                 mctpInterface.c_str());\n            properties \u003d dbusHandler.getDbusPropertiesVariant(\n                service.c_str(), objPath.str.c_str(), mctpInterface.c_str());\n        }\n        catch (const std::exception\u0026 e)\n        {\n            lg2::info(\n                \"MCTP Path \u0027{PATH}\u0027 is missing Endpoint data. Waiting for MCTPD signal.\",\n                \"PATH\", objPath.str);\n            return;\n        }\n    }\n\nThanks.",
      "parentUuid": "6ea0a0ce_bcf80ed3",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7db8c407_d57b168d",
        "filename": "platform-mc/terminus.cpp",
        "patchSetId": 12
      },
      "lineNbr": 816,
      "author": {
        "id": 1001906
      },
      "writtenOn": "2026-02-12T02:09:03Z",
      "side": 1,
      "message": "Add a MATCH to handle the MCTP reactor interface add signal.",
      "parentUuid": "4ddc8198_8f4e7a13",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8568a54_85b6960c",
        "filename": "platform-mc/terminus.cpp",
        "patchSetId": 12
      },
      "lineNbr": 915,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2026-02-02T05:35:42Z",
      "side": 1,
      "message": "Any possible race here? How do we know sensorAuxiliaryNamesTbl is populated?",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7e02b99_fa3d9b2b",
        "filename": "platform-mc/terminus.cpp",
        "patchSetId": 12
      },
      "lineNbr": 915,
      "author": {
        "id": 1001906
      },
      "writtenOn": "2026-02-12T06:26:30Z",
      "side": 1,
      "message": "My understanding is that SensorAuxNames is added at the beginning of the function.\n\nfor (auto\u0026 pdr : pdrs)\n    {\n        auto pdrHdr \u003d new (pdr.data()) pldm_pdr_hdr;\n        switch (pdrHdr-\u003etype)\n        {\n            case PLDM_SENSOR_AUXILIARY_NAMES_PDR:\n            {\n                auto sensorAuxNames \u003d parseSensorAuxiliaryNamesPDR(pdr);\n                if (!sensorAuxNames)\n                {\n                    lg2::error(\n                        \"Failed to parse PDR with type {TYPE} handle {HANDLE}\",\n                        \"TYPE\", pdrHdr-\u003etype, \"HANDLE\",\n                        static_cast\u003cuint32_t\u003e(pdrHdr-\u003erecord_handle));\n                    continue;\n                }\n                sensorAuxiliaryNamesTbl.emplace_back(std::move(sensorAuxNames));\n                break;\n            }",
      "parentUuid": "e8568a54_85b6960c",
      "revId": "a23c41b2df1819f0bf771d1a07ecfbee24a78b58",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}