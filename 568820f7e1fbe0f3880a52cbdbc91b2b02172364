{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "68e14f23_db4cf19c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-08-08T09:26:00Z",
      "side": 1,
      "message": "Can we support checking whether the endpoint support PLDM Firmware Update type and Fru commands before call?\nIn the current implementation, the `discoverFDs` is always called regardless the terminus support Firmware Update type or not.",
      "revId": "568820f7e1fbe0f3880a52cbdbc91b2b02172364",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1fe07f2f_95656e80",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-08-08T09:30:04Z",
      "side": 1,
      "message": "About this commit, `QueryDownstreamDevices` is optional command as table `Table 16 â€“ PLDM for Firmware Update Command Codes` in DSP0267 1.3.0. It is better to check the supported status of terminus for this type of command before calling.",
      "revId": "568820f7e1fbe0f3880a52cbdbc91b2b02172364",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a5ea0c29_d158d775",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1002150
      },
      "writtenOn": "2024-08-14T02:28:09Z",
      "side": 1,
      "message": "In my knowledge, the only way to check if the terminus supports the command is sending the command to it and check the CC it returned (please let me know if I was wrong). So I directly return the response if the CC was `PLDM_ERROR_UNSUPPORTED_PLDM_CMD`.\n\nPlease see the highlight comment I left with word \"Here\".",
      "parentUuid": "1fe07f2f_95656e80",
      "revId": "568820f7e1fbe0f3880a52cbdbc91b2b02172364",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f2ca0304_38a328d8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1002150
      },
      "writtenOn": "2024-08-14T02:28:09Z",
      "side": 1,
      "message": "Hi, thanks for the review first.\n\nDo you mean it should check the supportness for the two types by send command `GetPLDMTypes` in PLDM base spec?\n\nAlso, it seems that the inventory_manager would not send any commands in PLDM for Fru spec (DSP0257), could you please let me know why we should check the supportness of Fru commands in here?",
      "parentUuid": "68e14f23_db4cf19c",
      "revId": "568820f7e1fbe0f3880a52cbdbc91b2b02172364",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fc14efe6_846dba80",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-08-14T07:18:40Z",
      "side": 1,
      "message": "The PLDM Base command GetPLDMTypes and GetPLDMCommands can be used to identify the supported PLDM types and supported PLDM commands supported by terminus.\nThose commands are mandatory so we can always know if the terminus support PLDM Fw update or not.\nWith that we don\u0027t need to send the fw commands if the terminus does not support the commands.",
      "parentUuid": "a5ea0c29_d158d775",
      "revId": "568820f7e1fbe0f3880a52cbdbc91b2b02172364",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84abb1ff_1ab946a9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000945
      },
      "writtenOn": "2024-08-14T07:18:40Z",
      "side": 1,
      "message": "\u003e Hi, thanks for the review first.\n\u003e \n\u003e Do you mean it should check the supportness for the two types by send command `GetPLDMTypes` in PLDM base spec?\n\nYes. `GetPLDMTypes` and `GetPLDMCommands`, you can check these code https://github.com/openbmc/pldm/blob/3166ef23d9ffdc47d09afcea68d7a934c61a9f6c/platform-mc/terminus_manager.cpp#L303\n\u003e \n\u003e Also, it seems that the inventory_manager would not send any commands in PLDM for Fru spec (DSP0257), could you please let me know why we should check the supportness of Fru commands in here?",
      "parentUuid": "f2ca0304_38a328d8",
      "revId": "568820f7e1fbe0f3880a52cbdbc91b2b02172364",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7b21c086_886bf639",
        "filename": "fw-update/inventory_manager.cpp",
        "patchSetId": 5
      },
      "lineNbr": 225,
      "author": {
        "id": 1002150
      },
      "writtenOn": "2024-08-14T02:28:09Z",
      "side": 1,
      "message": "Here",
      "revId": "568820f7e1fbe0f3880a52cbdbc91b2b02172364",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}